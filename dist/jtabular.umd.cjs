(function(i,n){typeof exports=="object"&&typeof module<"u"?module.exports=n():typeof define=="function"&&define.amd?define(n):(i=typeof globalThis<"u"?globalThis:i||self,i.jtabular=n())})(this,function(){"use strict";return(n,T="horizontal",x=[],w=[])=>{Array.isArray(n)||(n=[n]);const f=(A,E=0)=>{const o=document.createElement("table"),p=document.createElement("thead"),m=document.createElement("tbody"),l=new Set,u=[];E!==0&&o.classList.add("nested-table");const L=(r,t={},d=0)=>{for(const[e,c]of Object.entries(r))if(!w.includes(e))if(typeof c=="object"&&c!==null){if(Array.isArray(c)){const a=f(c,d+1),y=document.createElement("td");y.appendChild(a),t[e]=y.outerHTML}l.add(e)}else t[e]=c,l.add(e);u.push(t)};A.forEach(r=>L(r));const s=document.createElement("table"),h=document.createElement("td"),b=document.createElement("tr");s.classList.add("mix-table"),h.setAttribute("colspan",n.length+1);const H=()=>{C(!0),h.appendChild(s),b.appendChild(h),o.appendChild(b)},V=(r=!1)=>{l.forEach(t=>{if(x.includes(t))return;const d=document.createElement("tr"),e=document.createElement("th");e.textContent=t,d.appendChild(e),u.forEach(c=>{const a=document.createElement("td");a.innerHTML=c[t]??"",d.appendChild(a)}),l.delete(t),o.appendChild(d)})},C=(r=!1)=>{const t=document.createElement("tr");l.forEach(d=>{const e=document.createElement("th");e.textContent=d,t.appendChild(e),p.appendChild(t)}),u.forEach(d=>{const e=document.createElement("tr");l.forEach(c=>{const a=document.createElement("td");a.innerHTML=d[c]??"",e.appendChild(a)}),m.appendChild(e)}),r?(s.appendChild(p),s.appendChild(m)):(o.appendChild(p),o.appendChild(m))};return T==="vertical"&&E===0?(V(),H()):C(),o};return f(n)}});
